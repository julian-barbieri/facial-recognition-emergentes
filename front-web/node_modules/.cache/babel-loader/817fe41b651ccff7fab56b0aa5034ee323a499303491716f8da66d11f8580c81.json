{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\julia\\\\workspace\\\\face-recognition\\\\front-web\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './App.css';\nimport Camera from './components/Camera';\nimport AttendanceStats from './components/AttendanceStats';\nimport EmotionStats from './components/EmotionStats';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isCameraExpanded, setIsCameraExpanded] = useState(false);\n  const [presentStudents, setPresentStudents] = useState([]); // lista de nombres detectados\n  const [emotionCounts, setEmotionCounts] = useState({\n    happiness: 0,\n    neutrality: 0,\n    sadness: 0,\n    anger: 0,\n    surprise: 0,\n    fear: 0\n  });\n  const toggleCameraSize = () => setIsCameraExpanded(prev => !prev);\n  const handleDetections = (names = []) => {\n    // normalizar nombres, quitar duplicados y actualizar presentes\n    const normalized = names.map(n => (n || '').trim()).filter(Boolean);\n    const unique = Array.from(new Set([...presentStudents, ...normalized]));\n    setPresentStudents(unique);\n  };\n  const handleEmotions = (emotions = []) => {\n    // emotions: array de strings con la emoción dominante por rostro detectado\n    if (!Array.isArray(emotions) || emotions.length === 0) return;\n    setEmotionCounts(prev => {\n      const next = {\n        ...prev\n      };\n      emotions.forEach(e => {\n        const key = String(e || '').toLowerCase();\n        // mapear posibles valores del servicio a nuestras llaves\n        const mapping = {\n          happy: 'happiness',\n          happiness: 'happiness',\n          neutral: 'neutrality',\n          neutrality: 'neutrality',\n          sad: 'sadness',\n          sadness: 'sadness',\n          angry: 'anger',\n          anger: 'anger',\n          surprise: 'surprise',\n          fearful: 'fear',\n          fear: 'fear'\n        };\n        const target = mapping[key];\n        if (target && Object.prototype.hasOwnProperty.call(next, target)) {\n          next[target] = (next[target] || 0) + 1;\n        }\n      });\n      return next;\n    });\n  };\n  const totalDetections = Object.values(emotionCounts).reduce((a, b) => a + b, 0);\n  const emotionPercentages = totalDetections === 0 ? {\n    happiness: 0,\n    neutrality: 0,\n    sadness: 0,\n    anger: 0,\n    surprise: 0,\n    fear: 0\n  } : {\n    happiness: Math.round(emotionCounts.happiness / totalDetections * 100),\n    neutrality: Math.round(emotionCounts.neutrality / totalDetections * 100),\n    sadness: Math.round(emotionCounts.sadness / totalDetections * 100),\n    anger: Math.round(emotionCounts.anger / totalDetections * 100),\n    surprise: Math.round(emotionCounts.surprise / totalDetections * 100),\n    fear: Math.round(emotionCounts.fear / totalDetections * 100)\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: `main-content ${isCameraExpanded ? 'expanded' : ''}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `layout ${isCameraExpanded ? 'layout-expanded' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"left-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left-panel-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"main-title\",\n              children: \"Tecnolog\\xEDas Emergentes TN Pilar 2025\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"camera-section\",\n            children: /*#__PURE__*/_jsxDEV(Camera, {\n              isExpanded: isCameraExpanded,\n              onToggle: toggleCameraSize,\n              onDetections: handleDetections,\n              onEmotions: handleEmotions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"right-panel\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stats-container\",\n              children: [/*#__PURE__*/_jsxDEV(AttendanceStats, {\n                presentNames: presentStudents\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(EmotionStats, {\n                percentages: emotionPercentages\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"MDheoMINBjeKzJ2AmIKbx6zENQ8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Camera","AttendanceStats","EmotionStats","jsxDEV","_jsxDEV","App","_s","isCameraExpanded","setIsCameraExpanded","presentStudents","setPresentStudents","emotionCounts","setEmotionCounts","happiness","neutrality","sadness","anger","surprise","fear","toggleCameraSize","prev","handleDetections","names","normalized","map","n","trim","filter","Boolean","unique","Array","from","Set","handleEmotions","emotions","isArray","length","next","forEach","e","key","String","toLowerCase","mapping","happy","neutral","sad","angry","fearful","target","Object","prototype","hasOwnProperty","call","totalDetections","values","reduce","a","b","emotionPercentages","Math","round","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isExpanded","onToggle","onDetections","onEmotions","presentNames","percentages","_c","$RefreshReg$"],"sources":["C:/Users/julia/workspace/face-recognition/front-web/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './App.css';\r\nimport Camera from './components/Camera';\r\nimport AttendanceStats from './components/AttendanceStats';\r\nimport EmotionStats from './components/EmotionStats';\r\n\r\nfunction App() {\r\n  const [isCameraExpanded, setIsCameraExpanded] = useState(false);\r\n  const [presentStudents, setPresentStudents] = useState([]); // lista de nombres detectados\r\n  const [emotionCounts, setEmotionCounts] = useState({\r\n    happiness: 0,\r\n    neutrality: 0,\r\n    sadness: 0,\r\n    anger: 0,\r\n    surprise: 0,\r\n    fear: 0\r\n  });\r\n\r\n  const toggleCameraSize = () => setIsCameraExpanded(prev => !prev);\r\n\r\n  const handleDetections = (names = []) => {\r\n    // normalizar nombres, quitar duplicados y actualizar presentes\r\n    const normalized = names\r\n      .map(n => (n || '').trim())\r\n      .filter(Boolean);\r\n    const unique = Array.from(new Set([...\r\n      presentStudents,\r\n      ...normalized\r\n    ]));\r\n    setPresentStudents(unique);\r\n  };\r\n\r\n  const handleEmotions = (emotions = []) => {\r\n    // emotions: array de strings con la emoción dominante por rostro detectado\r\n    if (!Array.isArray(emotions) || emotions.length === 0) return;\r\n    setEmotionCounts(prev => {\r\n      const next = { ...prev };\r\n      emotions.forEach(e => {\r\n        const key = String(e || '').toLowerCase();\r\n        // mapear posibles valores del servicio a nuestras llaves\r\n        const mapping = {\r\n          happy: 'happiness',\r\n          happiness: 'happiness',\r\n          neutral: 'neutrality',\r\n          neutrality: 'neutrality',\r\n          sad: 'sadness',\r\n          sadness: 'sadness',\r\n          angry: 'anger',\r\n          anger: 'anger',\r\n          surprise: 'surprise',\r\n          fearful: 'fear',\r\n          fear: 'fear'\r\n        };\r\n        const target = mapping[key];\r\n        if (target && Object.prototype.hasOwnProperty.call(next, target)) {\r\n          next[target] = (next[target] || 0) + 1;\r\n        }\r\n      });\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const totalDetections = Object.values(emotionCounts).reduce((a, b) => a + b, 0);\r\n  const emotionPercentages = totalDetections === 0 ? {\r\n    happiness: 0,\r\n    neutrality: 0,\r\n    sadness: 0,\r\n    anger: 0,\r\n    surprise: 0,\r\n    fear: 0\r\n  } : {\r\n    happiness: Math.round((emotionCounts.happiness / totalDetections) * 100),\r\n    neutrality: Math.round((emotionCounts.neutrality / totalDetections) * 100),\r\n    sadness: Math.round((emotionCounts.sadness / totalDetections) * 100),\r\n    anger: Math.round((emotionCounts.anger / totalDetections) * 100),\r\n    surprise: Math.round((emotionCounts.surprise / totalDetections) * 100),\r\n    fear: Math.round((emotionCounts.fear / totalDetections) * 100)\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <main className={`main-content ${isCameraExpanded ? 'expanded' : ''}`}>\r\n        <div className={`layout ${isCameraExpanded ? 'layout-expanded' : ''}`}>\r\n          <section className=\"left-panel\">\r\n            <div className=\"left-panel-header\">\r\n              <h1 className=\"main-title\">Tecnologías Emergentes TN Pilar 2025</h1>\r\n            </div>\r\n            <div className=\"camera-section\">\r\n              <Camera \r\n                isExpanded={isCameraExpanded} \r\n                onToggle={toggleCameraSize}\r\n                onDetections={handleDetections}\r\n                onEmotions={handleEmotions}\r\n              />\r\n            </div>\r\n          </section>\r\n\r\n          <section className=\"right-panel\">\r\n            <div className=\"stats-section\">\r\n              <div className=\"stats-container\">\r\n                <AttendanceStats presentNames={presentStudents} />\r\n                <EmotionStats percentages={emotionPercentages} />\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}